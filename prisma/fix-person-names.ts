import { PrismaClient } from '@prisma/client';

const prisma = new PrismaClient();

const NAME_MAPPINGS = [
    // à¸“à¸±à¸à¸žà¸¥ à¹à¸¢à¹‰à¸¡à¸ªà¸°à¸­à¸²à¸”
    {
        newName: 'à¸™à¸²à¸¢à¸“à¸±à¸à¸žà¸¥ à¹à¸¢à¹‰à¸¡à¸ªà¸°à¸­à¸²à¸”',
        oldNames: ['à¸™à¸²à¸¢à¸“à¸±à¸à¸žà¸¥  à¹à¸¢à¹‰à¸¡à¸ªà¸°à¸­à¸²à¸”', 'à¸™à¸±à¸—à¸žà¸¥ à¹à¸¢à¹‰à¸¡à¸ªà¸°à¸­à¸²à¸”'],
    },
    // à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸ à¸™à¸²à¸„à¸ªà¸¸à¸‚
    {
        newName: 'à¸™à¸²à¸¢à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸ à¸™à¸²à¸„à¸ªà¸¸à¸‚',
        oldNames: ['à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸ à¸™à¸²à¸„à¸ªà¸¸à¸‚', 'à¸™à¸²à¸¢à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸  à¸™à¸²à¸„à¸ªà¸¸à¸‚'],
    },
    // à¸ à¸´à¸£à¸¡à¸¢à¹Œ à¸ˆà¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚
    {
        newName: 'à¸™à¸²à¸¢à¸ à¸´à¸£à¸¡à¸¢à¹Œ à¸ˆà¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚',
        oldNames: ['à¸ à¸´à¸£à¸¡à¸¢à¹Œ à¸ˆà¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚', 'à¸™à¸²à¸¢à¸ à¸´à¸£à¸¡à¸¢à¹Œ  à¸ˆà¸‡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸¸à¸‚'],
    },
    // à¸¨à¸¸à¸ à¸Šà¸±à¸¢ à¸‡à¸²à¸¡à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸
    {
        newName: 'à¸™à¸²à¸¢à¸¨à¸¸à¸ à¸Šà¸±à¸¢ à¸‡à¸²à¸¡à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸',
        oldNames: ['à¸¨à¸¸à¸ à¸Šà¸±à¸¢ à¸‡à¸²à¸¡à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸', 'à¸™à¸²à¸¢à¸¨à¸¸à¸ à¸Šà¸±à¸¢  à¸‡à¸²à¸¡à¸›à¸£à¸°à¹€à¸ªà¸£à¸´à¸'],
    },
];

async function main() {
    console.log('ðŸ”„ à¸à¸³à¸¥à¸±à¸‡à¸£à¸§à¸¡à¸Šà¸·à¹ˆà¸­à¸¥à¸¹à¸à¸„à¹‰à¸²...\n');

    let total = 0;
    for (const { newName, oldNames } of NAME_MAPPINGS) {
        for (const oldName of oldNames) {
            const result = await prisma.transaction.updateMany({
                where: { ownerName: oldName },
                data: { ownerName: newName },
            });
            if (result.count > 0) {
                console.log(`âœ… "${oldName}" â†’ "${newName}" (${result.count} à¸£à¸²à¸¢à¸à¸²à¸£)`);
                total += result.count;
            }
        }
    }

    console.log(`\nðŸŽ‰ à¸­à¸±à¸›à¹€à¸”à¸•à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸” ${total} à¸£à¸²à¸¢à¸à¸²à¸£!`);
}

main()
    .catch((e) => {
        console.error('âŒ Error:', e);
        process.exit(1);
    })
    .finally(async () => {
        await prisma.$disconnect();
    });
